<link rel="stylesheet" th:href="@{list.css}"/>
<h2>Driver List</h2>

<div class="col mb-3">
    <div class="row">
        <div class="col-sm-12 col-md-12" sec:authorize="hasRole('ROLE_ADMIN')">
            <a href="/drivers/add-driver" class="btn btn-block btn-dark add-product-btn">
                Add new driver
            </a>
        </div>
    </div>
</div>

<table border="1">
    <thead>
    <tr>
        <th>Name</th>
        <th>Car</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="driver : ${drivers}">
        <td th:text="${driver.fullName}"></td>
        <td th:text="${driver.car.getModel()}"></td>
        <td class="text-right">
            <th:block sec:authorize="hasRole('ROLE_ADMIN')">
                <form class="delete" th:method="POST" th:action="@{'drivers/delete/{id}' (id=${driver.id})}">
                    <button type="submit" class="delete">Delete</button>
                </form>
                <a th:href="@{'/drivers/edit-form/{id}' (id=${driver.id})}" class="edit">Edit</a>
            </th:block>
        </td>
    </tr>
    </tbody>
</table>

