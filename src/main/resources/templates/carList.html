<link rel="stylesheet" th:href="@{list.css}"/>
<h2>Car List</h2>

<div class="col mb-3">
    <div class="row">
        <div class="col-sm-12 col-md-12" sec:authorize="hasRole('ROLE_ADMIN')">
            <a href="/cars/add-car" class="btn btn-block btn-dark add-product-btn">
                Add new product
            </a>
        </div>
    </div>
</div>

<table border="1">
    <thead>
    <tr>
        <th>Model</th>
        <th>Year</th>
        <th>Passenger Capacity</th>
        <th>Bag Capacity</th>
        <th>Price per Km</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="car : ${cars}">
        <td th:text="${car.model}"></td>
        <td th:text="${car.year}"></td>
        <td th:text="${car.getCapacity()}"></td>
        <td th:text="${car.bag}"></td>
        <td th:text="${car.pricePerKm}"></td>
        <td class="text-right">
            <th:block sec:authorize="hasRole('ROLE_ADMIN')">
                <form class="delete" method="POST" th:action="@{'cars/delete/{id}' (id=${car.getId()})}">
                    <button type="submit" class="delete">Delete</button>
                </form>
                <a th:href="@{'/cars/edit-form/{id}' (id=${car.getId()})}" class="edit">Edit</a>
            </th:block>
        </td>
    </tr>
    </tbody>
</table>

